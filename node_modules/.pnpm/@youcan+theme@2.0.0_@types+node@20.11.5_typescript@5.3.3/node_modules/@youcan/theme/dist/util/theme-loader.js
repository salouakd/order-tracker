import { Path, Filesystem } from '@youcan/cli-kit';
import { THEME_CONFIG_FILENAME } from '../constants.js';

async function load() {
    const path = Path.resolve(Path.cwd(), THEME_CONFIG_FILENAME);
    if (!await Filesystem.exists(path)) {
        throw new Error(`Theme config not found at ${path}`);
    }
    const config = await Filesystem.readJsonFile(path);
    return {
        ...config,
        root: Path.cwd(),
    };
}

export { load };
