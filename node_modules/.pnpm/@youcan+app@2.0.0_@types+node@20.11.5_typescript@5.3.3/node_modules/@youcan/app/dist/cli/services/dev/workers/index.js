import ThemeExtensionWorker from './theme-extension-worker.js';
import WebWorker from './web-worker.js';
import AppWorker from './app-worker.js';

const EXTENSION_WORKERS = {
    theme: ThemeExtensionWorker,
};
async function bootAppWorker(command, app) {
    const worker = new AppWorker(command, app);
    await worker.boot();
    return worker;
}
async function bootExtensionWorker(command, app, extension) {
    const Ctor = EXTENSION_WORKERS[extension.config.type];
    const worker = new Ctor(command, app, extension);
    await worker.boot();
    return worker;
}
async function bootWebWorker(command, app, web) {
    const worker = new WebWorker(command, app, web);
    await worker.boot();
    return worker;
}

export { bootAppWorker, bootExtensionWorker, bootWebWorker };
